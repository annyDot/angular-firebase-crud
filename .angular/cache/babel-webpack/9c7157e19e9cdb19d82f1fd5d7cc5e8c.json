{"ast":null,"code":"import { HttpEventType, HttpResponse } from '@angular/common/http'; //icons\n\nimport { faFile } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/file.service\";\nimport * as i2 from \"@fortawesome/angular-fontawesome\";\nimport * as i3 from \"@angular/common\";\n\nconst _c0 = function (a0) {\n  return {\n    width: a0\n  };\n};\n\nfunction FilesComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, ctx_r0.progress + \"%\"));\n    i0.ɵɵattribute(\"aria-valuenow\", ctx_r0.progress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.progress, \"% \");\n  }\n}\n\nfunction FilesComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.message, \" \");\n  }\n}\n\nfunction FilesComponent_ul_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 14);\n    i0.ɵɵelementStart(1, \"li\", 15);\n    i0.ɵɵelementStart(2, \"a\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const file_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", file_r3.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(file_r3.name);\n  }\n}\n\nexport class FilesComponent {\n  constructor(fileService) {\n    this.fileService = fileService;\n    this.filesIcon = faFile;\n    this.progress = 0;\n    this.message = '';\n  }\n\n  selectFile(event) {\n    this.selectedFiles = event.target.files;\n  }\n\n  upload() {\n    this.progress = 0;\n\n    if (this.selectedFiles) {\n      const file = this.selectedFiles.item(0);\n\n      if (file) {\n        this.currentFile = file;\n        this.fileService.upload(this.currentFile).subscribe(event => {\n          if (event.type === HttpEventType.UploadProgress) {\n            this.progress = Math.round(100 * event.loaded / event.total);\n          } else if (event instanceof HttpResponse) {\n            this.message = event.body.message;\n            this.fileInfos = this.fileService.getFiles();\n          }\n        }, err => {\n          console.log(err);\n          this.progress = 0;\n\n          if (err.error && err.error.message) {\n            this.message = err.error.message;\n          } else {\n            this.message = 'Could not upload file!';\n          }\n\n          this.currentFile = undefined;\n        });\n      }\n\n      this.selectedFiles = undefined;\n    }\n  }\n\n  ngOnInit() {\n    this.fileInfos = this.fileService.getFiles();\n  }\n\n}\n\nFilesComponent.ɵfac = function FilesComponent_Factory(t) {\n  return new (t || FilesComponent)(i0.ɵɵdirectiveInject(i1.FileService));\n};\n\nFilesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FilesComponent,\n  selectors: [[\"app-files\"]],\n  decls: 17,\n  vars: 7,\n  consts: [[1, \"containerPaper\"], [1, \"cardsHeader\"], [1, \"icon\", 2, \"color\", \"#C947F5\", 3, \"icon\"], [1, \"fileUploadContainer\"], [\"type\", \"file\", 3, \"change\"], [3, \"disabled\", \"click\"], [\"class\", \"progress my-3\", 4, \"ngIf\"], [\"class\", \"alert\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"card\", \"mt-3\"], [1, \"card-header\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [1, \"progress\", \"my-3\"], [\"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", 3, \"ngStyle\"], [\"role\", \"alert\", 1, \"alert\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [3, \"href\"]],\n  template: function FilesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"fa-icon\", 2);\n      i0.ɵɵelementStart(3, \"h1\");\n      i0.ɵɵtext(4, \"Files\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵelementStart(6, \"label\");\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"change\", function FilesComponent_Template_input_change_7_listener($event) {\n        return ctx.selectFile($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function FilesComponent_Template_button_click_8_listener() {\n        return ctx.upload();\n      });\n      i0.ɵɵtext(9, \"Upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, FilesComponent_div_10_Template, 3, 5, \"div\", 6);\n      i0.ɵɵtemplate(11, FilesComponent_div_11_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 8);\n      i0.ɵɵelementStart(13, \"div\", 9);\n      i0.ɵɵtext(14, \"List of Files\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, FilesComponent_ul_15_Template, 4, 2, \"ul\", 10);\n      i0.ɵɵpipe(16, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"icon\", ctx.filesIcon);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentFile);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 5, ctx.fileInfos));\n    }\n  },\n  directives: [i2.FaIconComponent, i3.NgIf, i3.NgForOf, i3.NgStyle],\n  pipes: [i3.AsyncPipe],\n  styles: [\"button[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  margin: unset;\\r\\n  margin-bottom:1rem;\\r\\n  background-color: #C947F5;\\r\\n  padding: 0.5rem;\\r\\n  color: white;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.fileUploadContainer[_ngcontent-%COMP%]{\\r\\n  margin-top:1rem;\\r\\n  padding:1rem;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.alert[_ngcontent-%COMP%] {\\r\\n  background-color: white;\\r\\n  border:none;\\r\\n  color:#C947F5;\\r\\n}\\r\\n\\r\\n.progress-bar[_ngcontent-%COMP%] {\\r\\n  background-color:#C947F5 !important; \\r\\n}\\r\\n\\r\\n@media (min-width: 70rem) {\\r\\n  .fileUploadContainer[_ngcontent-%COMP%]{\\r\\n    margin:auto;\\r\\n    margin-top:2rem;\\r\\n  }\\r\\n\\r\\n  button[_ngcontent-%COMP%] {\\r\\n    margin: 1rem;\\r\\n  }\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsdUJBQXVCO0VBQ3ZCLGVBQWU7RUFDZixZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGlDQUFpQyxFQUFFLHVCQUF1QjtBQUM1RDs7QUFFQTtFQUNFO0lBQ0UsV0FBVztJQUNYLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0FBRUYiLCJmaWxlIjoiZmlsZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbiB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW46IHVuc2V0O1xyXG4gIG1hcmdpbi1ib3R0b206MXJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBjb3JhbDtcclxuICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uZmlsZVVwbG9hZENvbnRhaW5lcntcclxuICBtYXJnaW4tdG9wOjFyZW07XHJcbiAgcGFkZGluZzoxcmVtO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5hbGVydCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOm5vbmU7XHJcbiAgY29sb3I6Y29yYWw7XHJcbn1cclxuXHJcbi5wcm9ncmVzcy1iYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6Y29yYWwgIWltcG9ydGFudDsgLypvdmVycmlkaW5nIGJvb3RzdHJhcCovXHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3MHJlbSkge1xyXG4gIC5maWxlVXBsb2FkQ29udGFpbmVye1xyXG4gICAgbWFyZ2luOmF1dG87XHJcbiAgICBtYXJnaW4tdG9wOjJyZW07XHJcbiAgfVxyXG5cclxuICBidXR0b24ge1xyXG4gICAgbWFyZ2luOiAxcmVtO1xyXG4gIH1cclxuXHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["C:/Users/n4m-Anja/Documents/GitHub/angular-firebase-crud/src/app/components/files/files.component.ts"],"names":["HttpEventType","HttpResponse","faFile","i0","i1","i2","i3","_c0","a0","width","FilesComponent_div_10_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","progress","ɵɵattribute","ɵɵtextInterpolate1","FilesComponent_div_11_Template","ctx_r1","message","FilesComponent_ul_15_Template","file_r3","$implicit","ɵɵpropertyInterpolate","url","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","FilesComponent","constructor","fileService","filesIcon","selectFile","event","selectedFiles","target","files","upload","file","item","currentFile","subscribe","type","UploadProgress","Math","round","loaded","total","body","fileInfos","getFiles","err","console","log","error","undefined","ngOnInit","ɵfac","FilesComponent_Factory","t","ɵɵdirectiveInject","FileService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","FilesComponent_Template","ɵɵelement","ɵɵlistener","FilesComponent_Template_input_change_7_listener","$event","FilesComponent_Template_button_click_8_listener","ɵɵtemplate","ɵɵpipe","ɵɵpipeBind1","directives","FaIconComponent","NgIf","NgForOf","NgStyle","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { HttpEventType, HttpResponse } from '@angular/common/http';\r\n//icons\r\nimport { faFile } from '@fortawesome/free-solid-svg-icons';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/file.service\";\r\nimport * as i2 from \"@fortawesome/angular-fontawesome\";\r\nimport * as i3 from \"@angular/common\";\r\nconst _c0 = function (a0) { return { width: a0 }; };\r\nfunction FilesComponent_div_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 11);\r\n    i0.ɵɵelementStart(1, \"div\", 12);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, ctx_r0.progress + \"%\"));\r\n    i0.ɵɵattribute(\"aria-valuenow\", ctx_r0.progress);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.progress, \"% \");\r\n} }\r\nfunction FilesComponent_div_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 13);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.message, \" \");\r\n} }\r\nfunction FilesComponent_ul_15_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 14);\r\n    i0.ɵɵelementStart(1, \"li\", 15);\r\n    i0.ɵɵelementStart(2, \"a\", 16);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const file_r3 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵpropertyInterpolate(\"href\", file_r3.url, i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(file_r3.name);\r\n} }\r\nexport class FilesComponent {\r\n    constructor(fileService) {\r\n        this.fileService = fileService;\r\n        this.filesIcon = faFile;\r\n        this.progress = 0;\r\n        this.message = '';\r\n    }\r\n    selectFile(event) {\r\n        this.selectedFiles = event.target.files;\r\n    }\r\n    upload() {\r\n        this.progress = 0;\r\n        if (this.selectedFiles) {\r\n            const file = this.selectedFiles.item(0);\r\n            if (file) {\r\n                this.currentFile = file;\r\n                this.fileService.upload(this.currentFile).subscribe((event) => {\r\n                    if (event.type === HttpEventType.UploadProgress) {\r\n                        this.progress = Math.round(100 * event.loaded / event.total);\r\n                    }\r\n                    else if (event instanceof HttpResponse) {\r\n                        this.message = event.body.message;\r\n                        this.fileInfos = this.fileService.getFiles();\r\n                    }\r\n                }, (err) => {\r\n                    console.log(err);\r\n                    this.progress = 0;\r\n                    if (err.error && err.error.message) {\r\n                        this.message = err.error.message;\r\n                    }\r\n                    else {\r\n                        this.message = 'Could not upload file!';\r\n                    }\r\n                    this.currentFile = undefined;\r\n                });\r\n            }\r\n            this.selectedFiles = undefined;\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.fileInfos = this.fileService.getFiles();\r\n    }\r\n}\r\nFilesComponent.ɵfac = function FilesComponent_Factory(t) { return new (t || FilesComponent)(i0.ɵɵdirectiveInject(i1.FileService)); };\r\nFilesComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FilesComponent, selectors: [[\"app-files\"]], decls: 17, vars: 7, consts: [[1, \"containerPaper\"], [1, \"cardsHeader\"], [1, \"icon\", 2, \"color\", \"#C947F5\", 3, \"icon\"], [1, \"fileUploadContainer\"], [\"type\", \"file\", 3, \"change\"], [3, \"disabled\", \"click\"], [\"class\", \"progress my-3\", 4, \"ngIf\"], [\"class\", \"alert\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"card\", \"mt-3\"], [1, \"card-header\"], [\"class\", \"list-group list-group-flush\", 4, \"ngFor\", \"ngForOf\"], [1, \"progress\", \"my-3\"], [\"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", 3, \"ngStyle\"], [\"role\", \"alert\", 1, \"alert\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [3, \"href\"]], template: function FilesComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelement(2, \"fa-icon\", 2);\r\n        i0.ɵɵelementStart(3, \"h1\");\r\n        i0.ɵɵtext(4, \"Files\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"div\", 3);\r\n        i0.ɵɵelementStart(6, \"label\");\r\n        i0.ɵɵelementStart(7, \"input\", 4);\r\n        i0.ɵɵlistener(\"change\", function FilesComponent_Template_input_change_7_listener($event) { return ctx.selectFile($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function FilesComponent_Template_button_click_8_listener() { return ctx.upload(); });\r\n        i0.ɵɵtext(9, \"Upload\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(10, FilesComponent_div_10_Template, 3, 5, \"div\", 6);\r\n        i0.ɵɵtemplate(11, FilesComponent_div_11_Template, 2, 1, \"div\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"div\", 8);\r\n        i0.ɵɵelementStart(13, \"div\", 9);\r\n        i0.ɵɵtext(14, \"List of Files\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(15, FilesComponent_ul_15_Template, 4, 2, \"ul\", 10);\r\n        i0.ɵɵpipe(16, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"icon\", ctx.filesIcon);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"disabled\", !ctx.selectedFiles);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.currentFile);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 5, ctx.fileInfos));\r\n    } }, directives: [i2.FaIconComponent, i3.NgIf, i3.NgForOf, i3.NgStyle], pipes: [i3.AsyncPipe], styles: [\"button[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  margin: unset;\\r\\n  margin-bottom:1rem;\\r\\n  background-color: #C947F5;\\r\\n  padding: 0.5rem;\\r\\n  color: white;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.fileUploadContainer[_ngcontent-%COMP%]{\\r\\n  margin-top:1rem;\\r\\n  padding:1rem;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.alert[_ngcontent-%COMP%] {\\r\\n  background-color: white;\\r\\n  border:none;\\r\\n  color:#C947F5;\\r\\n}\\r\\n\\r\\n.progress-bar[_ngcontent-%COMP%] {\\r\\n  background-color:#C947F5 !important; \\r\\n}\\r\\n\\r\\n@media (min-width: 70rem) {\\r\\n  .fileUploadContainer[_ngcontent-%COMP%]{\\r\\n    margin:auto;\\r\\n    margin-top:2rem;\\r\\n  }\\r\\n\\r\\n  button[_ngcontent-%COMP%] {\\r\\n    margin: 1rem;\\r\\n  }\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsdUJBQXVCO0VBQ3ZCLGVBQWU7RUFDZixZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGlDQUFpQyxFQUFFLHVCQUF1QjtBQUM1RDs7QUFFQTtFQUNFO0lBQ0UsV0FBVztJQUNYLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0FBRUYiLCJmaWxlIjoiZmlsZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbiB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW46IHVuc2V0O1xyXG4gIG1hcmdpbi1ib3R0b206MXJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBjb3JhbDtcclxuICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uZmlsZVVwbG9hZENvbnRhaW5lcntcclxuICBtYXJnaW4tdG9wOjFyZW07XHJcbiAgcGFkZGluZzoxcmVtO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5hbGVydCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOm5vbmU7XHJcbiAgY29sb3I6Y29yYWw7XHJcbn1cclxuXHJcbi5wcm9ncmVzcy1iYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6Y29yYWwgIWltcG9ydGFudDsgLypvdmVycmlkaW5nIGJvb3RzdHJhcCovXHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3MHJlbSkge1xyXG4gIC5maWxlVXBsb2FkQ29udGFpbmVye1xyXG4gICAgbWFyZ2luOmF1dG87XHJcbiAgICBtYXJnaW4tdG9wOjJyZW07XHJcbiAgfVxyXG5cclxuICBidXR0b24ge1xyXG4gICAgbWFyZ2luOiAxcmVtO1xyXG4gIH1cclxuXHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}